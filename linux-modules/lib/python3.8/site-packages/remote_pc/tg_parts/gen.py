import sys

from aiogram import types
from remote_pc.bot_parts import stats
from remote_pc.bot_parts import settings

async def is_user(call, message, menu_type, menu_action=None): 
    if await settings.is_user(str(call.from_user.id), menu_type, menu_action):
        return True
    else: 
        await stats.log(f"{call.from_user.id} попытался управлять Вашим компьютером!")
        await message.answer_sticker(sticker="CAACAgIAAxkBAAEKmttg276yQK1rvsQSBM80_Eyc0gt2DAACCQADci8wB6PyDmoZHBAlIAQ")
        return False

async def is_chat(message):
    return True if message.chat.type in ['supergroup', 'group'] else False

async def return_message(message, text=None, reply_markup=None, sticker=None):
    if text != None:
        await message.reply(text, reply_markup=reply_markup) if await is_chat(message) else await message.answer(text, reply_markup=reply_markup) 
    if sticker != None:
        await message.reply_sticker(sticker) if await is_chat(message) else await message.answer_sticker(sticker) 